import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.B0zzL8Pn.js";const E=JSON.parse('{"title":"ulimit","description":"","frontmatter":{},"headers":[],"relativePath":"Tech/~/linux/ulimit.md","filePath":"Tech/~/linux/ulimit.md","lastUpdated":1761658468000}'),t={name:"Tech/~/linux/ulimit.md"};function l(k,s,p,e,d,r){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="ulimit" tabindex="-1">ulimit <a class="header-anchor" href="#ulimit" aria-label="Permalink to &quot;ulimit&quot;">​</a></h1><p>리눅스에서 하나의 프로세스가 열 수 있는 소켓의 개수는 몇일까요?</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1024</span></span></code></pre></div><p>이는 한 프로세스가 열 수 있는 <strong>파일 디스크립터 제한</strong> 에 의해 정해집니다.</p><p><code>ulimit</code> 커맨드는 리눅스/유닉스 계열에서 프로세스가 사용할 수 있는 자원 한도를 확인,설정 하는 명령어임.</p><h2 id="user-limit" tabindex="-1">user limit <a class="header-anchor" href="#user-limit" aria-label="Permalink to &quot;user limit&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu@dev:~$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">real-time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> non-blocking</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (microseconds, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">core</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              (blocks, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               (kbytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> priority</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                 (-e) 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   (blocks, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> signals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                     (-i) 3527</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> locked</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">           (kbytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-l</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 122720</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> memory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">             (kbytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                          (-n) 1024</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (512 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bytes,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">POSIX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">         (bytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-q</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 819200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">real-time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> priority</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                  (-r) 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stack</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                  (kbytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 8192</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cpu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   (seconds, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> processes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                  (-u) 3527</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">virtual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              (kbytes, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">-v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) unlimited</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> locks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                          (-x) unlimited</span></span></code></pre></div><p>만약 open files 개수를 수정 하려면</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ulimit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 개수</span></span></code></pre></div><p>하지만 이 방법은 쉘을 종료하면 원래 값으로 돌아갑니다<br> 만약 영구적으로 변경하려면 <code>/etc/security/limits.conf</code> 파일 수정</p><h2 id="soft-hard-limit" tabindex="-1">soft, hard limit <a class="header-anchor" href="#soft-hard-limit" aria-label="Permalink to &quot;soft, hard limit&quot;">​</a></h2><p>설정은 limit은 <code>soft</code>, <code>hard</code> 두개로 구분이 되어요일반적으로 <code>ulimit -n 개수</code>를 통해 설정하는 것은 <code>soft</code> 값을 설정하는 것으로 프로세스가 현재 할당받을 수 있는 리소스의 한계치를 의미해요<br><code>hard</code>는 <code>soft</code> 한도를 늘릴 수 있는 최대 한도를 의미함.</p><p><code>soft 한도</code>는 <code>hard 한도</code>를 넘지 않는 선에서 자유롭게 수정이 가능하고, <code>hard 한도</code> 를 수정하려면 root권한이 필요해요</p>`,13)]))}const g=i(t,[["render",l]]);export{E as __pageData,g as default};
